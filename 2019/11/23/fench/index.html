<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>POJ 3253 Fence Repair | Npcxh&#39;s Coding Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Description Farmer John wants to repair a small length of the fence around the pasture. He measures the fence and finds that he needs N (1 ≤ N ≤ 20,000) planks of wood, each having some integer length">
<meta name="keywords" content="C++,贪心">
<meta property="og:type" content="article">
<meta property="og:title" content="POJ 3253 Fence Repair">
<meta property="og:url" content="https:&#x2F;&#x2F;tpcother.github.io&#x2F;npcxh.github.io&#x2F;2019&#x2F;11&#x2F;23&#x2F;fench&#x2F;index.html">
<meta property="og:site_name" content="Npcxh&#39;s Coding Blog">
<meta property="og:description" content="Description Farmer John wants to repair a small length of the fence around the pasture. He measures the fence and finds that he needs N (1 ≤ N ≤ 20,000) planks of wood, each having some integer length">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-11-22T17:15:03.959Z">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/npcxh.github.io/atom.xml" title="Npcxh&#39;s Coding Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/npcxh.github.io/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/npcxh.github.io/" id="logo">Npcxh&#39;s Coding Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/npcxh.github.io/" id="subtitle">Stay hungry,stay foolish.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/npcxh.github.io/">Home</a>
        
          <a class="main-nav-link" href="/npcxh.github.io/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/npcxh.github.io/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://tpcother.github.io/npcxh.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-fench" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/npcxh.github.io/2019/11/23/fench/" class="article-date">
  <time datetime="2019-11-22T17:12:18.000Z" itemprop="datePublished">2019-11-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      POJ 3253 Fence Repair
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Description</strong></p>
<p>Farmer John wants to repair a small length of the fence around the pasture. He measures the fence and finds that he needs N (1 ≤ N ≤ 20,000) planks of wood, each having some integer length Li (1 ≤ Li ≤ 50,000) units. He then purchases a single long board just long enough to saw into the N planks (i.e., whose length is the sum of the lengths Li). FJ is ignoring the “kerf”, the extra length lost to sawdust when a sawcut is made; you should ignore it, too.</p>
<p>FJ sadly realizes that he doesn’t own a saw with which to cut the wood, so he mosies over to Farmer Don’s Farm with this long board and politely asks if he may borrow a saw.</p>
<p>Farmer Don, a closet capitalist, doesn’t lend FJ a saw but instead offers to charge Farmer John for each of the N-1 cuts in the plank. The charge to cut a piece of wood is exactly equal to its length. Cutting a plank of length 21 costs 21 cents.</p>
<p>Farmer Don then lets Farmer John decide the order and locations to cut the plank. Help Farmer John determine the minimum amount of money he can spend to create the N planks. FJ knows that he can cut the board in various different orders which will result in different charges since the resulting intermediate planks are of different lengths.</p>
<hr>
<p><strong>Input</strong></p>
<p>Line 1: One integer N, the number of planks<br>Lines 2.. N+1: Each line contains a single integer describing the length of a needed plank</p>
<hr>
<p><strong>Output</strong></p>
<p>Line 1: One integer: the minimum amount of money he must spend to make N-1 cuts</p>
<hr>
<p><strong>Sample Input</strong>  </p>
<p>3<br>8<br>5<br>8  </p>
<hr>
<p><strong>Sample Output</strong></p>
<p>34</p>
<hr>
<p><strong>Hint</strong></p>
<p>He wants to cut a board of length 21 into pieces of lengths 8, 5, and 8.<br>The original board measures 8+5+8=21. The first cut will cost 21, and should be used to cut the board into pieces measuring 13 and 8. The second cut will cost 13, and should be used to cut the 13 into 8 and 5. This would cost 21+13=34. If the 21 was cut into 16 and 5 instead, the second cut would cost 16 for a total of 37 (which is more than 34).</p>
<hr>
<p><strong>大意:</strong><br>给定每段木板长度，从原木板中裁出相应长度的木板。每次裁剪木板的花费是该木板的长度，求裁出所有指定长度木板的最小花费。</p>
<p><strong>思路:</strong><br>首先想到的是裁出当前最长的木板，WA。<br>可以举出反例 如给定3 4 5 6<br>切最大的方案=6+12 + 5+7 + 3+4=37<br>而最优方案=3+4 + 6+5 + 7+11=36<br>此时可以用逆向思维，转换为合成木板，每次合成长度最小的两个木板，能保证开销最小。 可以利用优先队列来完成合成过程。<br>其实是哈夫曼编码树问题，每切一次木板都会产生两个子节点，求最小带权路径树。 </p>
<p><strong>定义:</strong></p>
<blockquote>
<p>若将树中结点赋给一个有着某种含义的数值，则这个数值称为该结点的权。结点的带权路径长度为：从根结点到该结点之间的路径长度与该结点的权的乘积。 树的带权路径长度规定为所有叶子结点的带权路径长度之和，记为WPL。  </p>
</blockquote>
<p><strong>代码:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, i, x, y;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> cost = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    priority_queue&lt; <span class="keyword">int</span>,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;, greater&lt;<span class="keyword">int</span>&gt; &gt; a;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n;i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; x;</span><br><span class="line">        a.push(x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(a.<span class="built_in">size</span>()!=<span class="number">1</span>)&#123;</span><br><span class="line">        x = a.top();</span><br><span class="line">        a.pop();</span><br><span class="line">        y = a.top();</span><br><span class="line">        a.pop();</span><br><span class="line">        cost += x + y;</span><br><span class="line">        a.push(x + y);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; cost;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://tpcother.github.io/npcxh.github.io/2019/11/23/fench/" data-id="ck3i3wlog00041k7k5mrm0r4x" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/npcxh.github.io/tags/C/" rel="tag">C++</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/npcxh.github.io/tags/%E8%B4%AA%E5%BF%83/" rel="tag">贪心</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/npcxh.github.io/2019/11/27/Apple/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          POJ 2385 Apple Catching
        
      </div>
    </a>
  
  
    <a href="/npcxh.github.io/2019/11/23/party/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">聚餐小记</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/npcxh.github.io/tags/C/" rel="tag">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/npcxh.github.io/tags/DP/" rel="tag">DP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/npcxh.github.io/tags/%E6%97%A5%E5%B8%B8/" rel="tag">日常</a></li><li class="tag-list-item"><a class="tag-list-link" href="/npcxh.github.io/tags/%E8%B4%AA%E5%BF%83/" rel="tag">贪心</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/npcxh.github.io/tags/C/" style="font-size: 20px;">C++</a> <a href="/npcxh.github.io/tags/DP/" style="font-size: 10px;">DP</a> <a href="/npcxh.github.io/tags/%E6%97%A5%E5%B8%B8/" style="font-size: 10px;">日常</a> <a href="/npcxh.github.io/tags/%E8%B4%AA%E5%BF%83/" style="font-size: 15px;">贪心</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/npcxh.github.io/archives/2019/11/">十一月 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/npcxh.github.io/2019/11/27/Apple/">POJ 2385 Apple Catching</a>
          </li>
        
          <li>
            <a href="/npcxh.github.io/2019/11/23/fench/">POJ 3253 Fence Repair</a>
          </li>
        
          <li>
            <a href="/npcxh.github.io/2019/11/23/party/">聚餐小记</a>
          </li>
        
          <li>
            <a href="/npcxh.github.io/2019/11/21/Installation/">POJ P1328 Radar Installation</a>
          </li>
        
          <li>
            <a href="/npcxh.github.io/2019/11/21/blog/">第一个新博客！</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 npcxh<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/npcxh.github.io/" class="mobile-nav-link">Home</a>
  
    <a href="/npcxh.github.io/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/npcxh.github.io/fancybox/jquery.fancybox.css">
  <script src="/npcxh.github.io/fancybox/jquery.fancybox.pack.js"></script>


<script src="/npcxh.github.io/js/script.js"></script>



  </div>
</body>
</html>